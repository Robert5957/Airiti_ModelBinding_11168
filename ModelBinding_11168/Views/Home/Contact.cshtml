@{
    ViewBag.Title = "Contact";
}
<h2>@ViewBag.Title.</h2>
<h3>@ViewBag.Message</h3>

<address>
    One Microsoft Way<br />
    Redmond, WA 98052-6399<br />
    <abbr title="Phone">P:</abbr>
    425.555.0100
</address>

<address>
    <strong>Support:</strong>   <a href="mailto:Support@example.com">Support@example.com</a><br />
    <strong>Marketing:</strong> <a href="mailto:Marketing@example.com">Marketing@example.com</a>
</address>


<script>
    $('#btnSubmit').click(() => { test(); })
    function jqdata(name, age, friends = null) {
        this.name = name
        this.age = age
        this.Friends = friends || null
    }
    function test() {
        var actionName = document.getElementById("dataBinding").value;
        var method = document.getElementById("method").value;
        var contentType = document.getElementById("contentType").value;
        var dataType = document.getElementById("dataType").value;
        alert(contentType);
        var variables =
        {
            SimpleBinding: [{ Name: "Trumpt", Age: 11 }/*物件*/, 'Name=Trumpt&Age=12', new jqdata("Trumpt", 13)]
            , ModelBindObj: [{ Name: "Trumpt", Age: 21 }, 'Name=Trumpt&Age=22', { data: { Name: "Trumpt", Age: 23 } }, { data: new jqdata('Trumpt', 24) }, new jqdata('Trumpt', 25)]
            , SimpleModelBindArray: [{ Name: ["Trumpt", "Tom"], Age: [31, 1] }, new jqdata(["Trumpt", "Tom"], [32, 2]), { "Name[0]": "Trumpt", "Age[0]": 33, "Name[1]": "Tom", "Age[1]": 3 }]
            , ModelBindingArray: [{ data: [{ Name: "Trumpt", Age: 41 }, { Name: "Tom", Age: 1 }] }, [{ Name: "Trumpt", Age: 42 }, { Name: "Tom", Age: 1 }], { data: [new jqdata("Trumpt", 43), new jqdata("Tom", 1)] }, [new jqdata("Trumpt", 43), new jqdata("Tom", 1)], { "data[0]": { Name: "Trumpt", Age: 44 }, "data[1]": { Name: "Tom", Age: 2 } }, { "[0]": { Name: "Trumpt", Age: 45 }, "[1]": { Name: "Tom", Age: 2 } }]
            , ModelBindingNestedObj: [{ data: { Name: "Trumpt", Age: 51, Friends: [{ Name: "Nana", Age: 0, Friends: [{ Name: "Ivy", Age: 3 }] }] } }, { Name: "Trumpt", Age: 52, Friends: [{ Name: "Nana", Age: 0, Friends: [{ Name: "Ivy", Age: 3 }] }] }, { data: new jqdata('Trumpt', 53, [new jqdata('Tina', 20, null)]) }, new jqdata('Trumpt', 54, [new jqdata('Tina', 20, null)])]
            , ModelBindingArrayNestedObj: [
                { data: [{ Name: "Trumpt", Age: 61, Friends: [{ Name: "Nana", Age: 0, Friends: [{ Name: "Ivy", Age: 3 }] }] }, { Name: "Fanny", Age: 5, Friends: [{ Name: "Tina", Age: 0, Friends: [{ Name: "Chris", Age: 3 }] }] }] }
                , [{ Name: "Trumpt", Age: 62, Friends: [{ Name: "Nana", Age: 0, Friends: [{ Name: "Ivy", Age: 3 }] }] }, { Name: "Fanny", Age: 5, Friends: [{ Name: "Tina", Age: 0, Friends: [{ Name: "Chris", Age: 3 }] }] }]
                , { data: [new jqdata('Trumpt', 63, [new jqdata('Ivy', 2)]), new jqdata('Fanny', 23, [new jqdata('Eva', 2)])] }
                , [new jqdata('Trumpt', 64, [new jqdata('Ivy', 2)]), new jqdata('Fanny', 23, [new jqdata('Eva', 2)])]
                , { "data[0]": { Name: "Trumpt", Age: 65, Friends: [{ Name: "Nana", Age: 0, Friends: [{ Name: "Ivy", Age: 3 }] }] }, "data[1]": { Name: "Fanny", Age: 5, Friends: [{ Name: "Tina", Age: 0, Friends: [{ Name: "Chris", Age: 3 }] }] } }
                , { "[0]": { Name: "Trumpt", Age: 66, Friends: [{ Name: "Nana", Age: 0, Friends: [{ Name: "Ivy", Age: 3 }] }] }, "[1]": { Name: "Fanny", Age: 5, Friends: [{ Name: "Tina", Age: 0, Friends: [{ Name: "Chris", Age: 3 }] }] } }
            ]

        }
        var styles = ["string Name, int Age", "Human data", "string[] Name, int[] Age", "Human[] data", "Person data", "Person[] data"]
        var contenttypes = ["application/x-www-form-urlencoded; charset=utf-8", "application/json; charset=utf-8"]
        for (var actionname in variables) {
            if (variables.hasOwnProperty(actionname)) {
                variables[actionname].forEach((object) => {
                    contenttypes.forEach(type => {
                        var docfrag = $(document.createDocumentFragment())
                        var frag0 = "", frag1 = "", frag2 = "", frag3 = "", frag4 = ""
                        if (type == "application/json; charset=utf-8") {
                            object = JSON.stringify(object)
                            $.ajax(
                                {
                                    url: "/HOME/" + actionname,
                                    method: 'Post',
                                    processData: false,
                                    data: object,
                                    contentType: type,
                                    dataType: "text",
                                    async: false,
                                    cache: false,
                                    beforeSend: function (jqXHR, settings) {
                                        //debugger;
                                        frag0 = $("<p></p>").text(actionname)
                                        frag1 = $("<p></p>").text("輸入object")
                                        frag2 = $("<div class='ans'></div>").text(object)
                                        frag3 = $("<p></p>").text("送出內容，依據" + type)
                                        frag4 = $("<div class='ans'></div>").text(settings.data)
                                        docfrag.append([frag0], [frag1], [frag2], [frag3], [frag4])
                                    },
                                    success: function (data) {
                                        frag1 = $("<p></p>").text("返回 Http Response body")
                                        frag2 = $("<div class='ans'></div>").text(data)
                                        if (data == "") {
                                            frag2 = $("<div class='ans'></div>").text("失敗")
                                        }
                                        docfrag.append([frag1], [frag2])

                                    },
                                    error: function (ex) {
                                        frag1 = $("<p></p>").text("返回 Http Response body")
                                        frag2 = $("<div class='ans'></div>").text("失敗")
                                        docfrag.append([frag1], [frag2])

                                    },
                                    complete: function () {

                                        var area = $("<div class='area'></div>").html(docfrag)
                                        $('#allcontent').append(area)
                                        docfrag = null
                                    }
                                })
                        }
                        else {
                            $.ajax(
                                {
                                    url: "/HOME/" + actionname,
                                    method: 'Post',
                                    processData: true,
                                    data: object,
                                    contentType: type,
                                    dataType: "text",
                                    cache: false,
                                    async: false,
                                    beforeSend: function (jqXHR, settings) {
                                        frag0 = $("<p></p>").text(actionname)
                                        frag1 = $("<p></p>").text("輸入object")
                                        frag2 = $("<div class='ans'></div>").text(JSON.stringify(object))
                                        frag3 = $("<p></p>").text("送出內容，依據" + type)
                                        frag4 = $("<div class='ans'></div>").text(settings.data)
                                        docfrag.append([frag0], [frag1], [frag2], [frag3], [frag4])
                                    },
                                    success: function (data) {
                                        frag1 = $("<p></p>").text("返回 Http Response body")
                                        frag2 = $("<div class='ans'></div>").text(data)
                                        if (data == "") {
                                            frag2 = $("<div class='ans'></div>").text("失敗")
                                        }
                                        docfrag.append([frag1], [frag2])

                                    },
                                    error: function (ex) {
                                        frag1 = $("<p></p>").text("返回 Http Response body")
                                        frag2 = $("<div class='ans'></div>").text("失敗")
                                        docfrag.append([frag1], [frag2])

                                    },
                                    complete: function () {

                                        var area = $("<div class='area'></div>").html(docfrag)
                                        $('#allcontent').append(area)
                                        docfrag = null
                                    }
                                })

                        }

                    })
                })
            }
        }
    }</script>
        //function aJax() {
        //    $.ajax(
        //        {
        //            url: "/HOME/" + actionname,
        //            method: method,
        //            processData: false,
        //            data: object,
        //            contentType: contentType,
        //            dataType: dataType,
        //            async: false,
        //            cache: false,
        //            beforeSend: function (jqXHR, settings) {
        //                //debugger;
        //                frag0 = $("<p></p>").text(actionname)
        //                frag1 = $("<p></p>").text("輸入object")
        //                frag2 = $("<div class='ans'></div>").text(object)
        //                frag3 = $("<p></p>").text("送出內容，依據" + contentType)
        //                frag4 = $("<div class='ans'></div>").text(settings.data)
        //                docfrag.append([frag0], [frag1], [frag2], [frag3], [frag4])
        //            },
        //            success: function (data) {
        //                frag1 = $("<p></p>").text("返回 Http Response body")
        //                frag2 = $("<div class='ans'></div>").text(data)
        //                if (data == "") {
        //                    frag2 = $("<div class='ans'></div>").text("失敗")
        //                }
        //                docfrag.append([frag1], [frag2])

        //            },
        //            error: function (ex) {
        //                frag1 = $("<p></p>").text("返回 Http Response body")
        //                frag2 = $("<div class='ans'></div>").text("失敗")
        //                docfrag.append([frag1], [frag2])

        //            },
        //            complete: function () {
        //                var area = $("<div class='area'></div>").html(docfrag)
        //                $('#allcontent').append(area)
        //                docfrag = null
        //            }
        //        })}